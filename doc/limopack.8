.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "LIMOPACK" "8" "" "Version 0.1" ""
.hy
.SH NAME
.PP
\f[B]limopack\f[R] - \f[I]Li\f[R]nux \f[I]Mo\f[R]dule \f[I]Pack\f[R]age
(Helper)
.SH SYNOPSIS
.PP
Usage of the limopack as follows: \f[C]limopack [OPTIONS]\f[R]
.SH DESCRIPTION
.PP
The \f[B]limopack\f[R] is a Linux Kernel modules packaging helper, which
allows to minimise the amount of mainline kernel modules present on the
disk, if they are not needed, without altering the entire framework for
the mainline kernel management and support.
.PP
Main demand of this helper is in the embedded world, where one need to
be able to construct a bootable image for a specific device, using a
standard mainline kernel with all modules present.
Mainline kernels are usually coming with many other modules that
normally are never required in an embedded world or never will be
required after a system has been provisioned.
.PP
This helper works by altering package manager database (Debian),
allowing physical post-install removal of modules, those are actually
always unused and unloaded, but present on the disk.
Altering package manager is needed to allow next update cycle, letting
system bring the kernel/modules updates as usual.
.PP
In a nutshell, \f[B]limopack\f[R] works as follows:
.IP "1." 3
All mainline kernel modules should be required to be installed
.IP "2." 3
\f[B]limopack\f[R] then only marks explicitly specified modules those
are actually needed (it can be a package pattern etc)
.IP "3." 3
The difference is removed from the disk (unused modules)
.IP "4." 3
Kernel modules package is then marked as outdated (lower version)
.PP
When a new update comes, modules package is then brought back for
update.
.SS OPTIONS
.TP
-u, \[en]use 
Specify comma-separated list of kernel modules to be processed.
For example
you can specify \f[B]\[en]use=module1,module2,module3\f[R] etc.
.TP
-s, \[en]static
Use specified modules as static (i.e.\ stays permanently)
.TP
-e, \[en]tree
Display module dependency tree.
.TP
-l, \[en]list
Display in a sorted flat list format all modules that will
be used.
This includes all dependencies and already marked
and existing modules.
.TP
-p, \[en]pkname 
Specify a package name, which needs to be un-registered
from the package manager database in order to be visible to the system
as
non-existing, so the system can bring it again for an update or
installation.
.TP
-i, \[en]install
Mark specified modules as needed for the system.
.TP
-r, \[en]remove
Remove specified modules as no longer needed for the system,
so they can be purged from the disk.
This operation only marks
the modules to be removed, but does not actually removes them.
.TP
-a, \[en]apply
Apply the changes, vacuuming all unneded/unregisterd (non-marked)
kernel modules, those are still exist on a disk, but always unused.
\f[I]NOTE: this option can be only used alone, as it commits the
changes\f[R]
.TP
-d, \[en]debug
Set debug mode for more verbose output.
-v, \[en]version
Get current version.
-h, \[en]help
Print help
.SH FILES
.TP
\f[I]/usr/bin/limopack\f[R]
Main runtime binary
.SH EXAMPLES
.PP
Only to display dependencies to specific kernel modules:
.IP
.nf
\f[C]
$ limopack --use=hci_nokia,ltc3815,9pnet_xen,snd-soc-skl-ssp-clk -e
\f[R]
.fi
.PP
To register \f[C]ltc3815\f[R] module to be used:
.IP
.nf
\f[C]
$ limopack --use=ltc3815 --install
\f[R]
.fi
.PP
Note, those modules are only added to the list of used modules.
To cleanup all other modules (unused):
.IP
.nf
\f[C]
$ limopack --shrink
\f[R]
.fi
.SH BUGS
.PP
See GitHub Issues: https://github.com/isbm/limopack/issues
.SH AUTHOR
.PP
Bo Maryniuk
.SS COPYRIGHT
.IP "(c)" 4
2023, Bo Maryniuk
